<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/google-map/google-map.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="hoverboard-icons.html">

<dom-module id="map-block">
    <template>
        <style is="custom-style" include="shared-styles flex flex-alignment positioning"></style>

        <style>
             :host {
                display: block;     
                padding: 40px 0;
                position: relative;
                overflow: hidden;
                min-height: 300px;          
            }         

            .map-container {
                min-height: 600px;
                position: relative;
            }

            google-map {
                height: 100%;
            }

            [slot="markers"]  {
                display: block;
            }          

            
            @media (min-width: 640px) {
                .map-container {
                    min-height: 700px;
                }
            }

        </style>
      
       <div class="map-container">
        <google-map
            zoom="{$ location.pointer.zoom $}"
            latitude="{$ location.mapCenter.latitude $}"
            longitude="{$ location.mapCenter.longitude $}"
            api-key="{$ location.apiKey $}"
            styles="[[options]]"
            disable-zoom disable-default-ui layout fit>
        <google-map-marker slot="markers"
          latitude="{$ location.pointer.latitude $}"
          longitude="{$ location.pointer.longitude $}"
        ></google-map-marker>
      </google-map>

       </div>

        <!--<div class="disable-map-events" fit></div>
        <div class="container" layout horizontal>
        <div class="additional-space"></div>
        <div class="card-wrapper" layout horizontal around-justified>
       
          
         </div>
        </div>-->
    </template>

    <script>
        class MapBlock extends Polymer.Element {
            static get is() { return 'map-block' }

            static get properties() {
                return {
                    options: {
                        type: String,
                        value: function () {
                        return [{
                            stylers: [{
                            'lightness': 40
                            }, {
                            'visibility': 'on'
                            }, {
                            'gamma': 0.9
                            }, {
                            'weight': 0.4
                            }]
                        }, {
                            'elementType': 'labels',
                            'stylers': [{
                            'visibility': 'on'
                            }]
                        }, {
                            'featureType': 'water',
                            'stylers': [{
                            'color': '#5dc7ff'
                            }]
                        }];
                        }
                    },
                    
                    images: {
                        type: Array,
                        value: {$ location.images | dump | safe $}
                    },
                    _currentSourceIndex: {
                        type: Number,
                        value: 0
                    },
                    _currentImage: {
                        type: String
                    }
                }
            }

            //   ready() {
               
            // }

            //  previousImage() {
            //     this._currentSourceIndex = (this._currentSourceIndex > 0) ? this._currentSourceIndex - 1 : this.images.length - 1;
            //     this._currentImage = this.images[this._currentSourceIndex];
            // }

            // nextImage() {
            //     this._currentSourceIndex = (this._currentSourceIndex < this.images.length - 1) ? this._currentSourceIndex + 1 : 0;
            //     this._currentImage = this.images[this._currentSourceIndex];
            // }
        }

        customElements.define(MapBlock.is, MapBlock);
    </script>
</dom-module>
